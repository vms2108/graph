<div class="form">
  <div class="form__items" [formGroup]="fg">
    <div class="form__block">
      <h3 class="form__subtitle">Квартира</h3>
      <app-form-slider-input
        label="Стоимость квартиры, млн руб"
        [settings]="settings.cost_apartaments"
        formControlName="cost_apartaments"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Изменение стоимости квартиры в год, %"
        [settings]="settings.percent"
        formControlName="percent_cost_change"
      ></app-form-slider-input>
    </div>
    <div class="form__block">
      <h3 class="form__subtitle">Условия ипотеки</h3>
      <app-form-slider-input
        label="Годовая ставка, %"
        [settings]="settings.percent"
        formControlName="percent_credit"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Срок, лет"
        [settings]="settings.percent"
        formControlName="term_credit"
      ></app-form-slider-input>
    </div>
    <div class="form__block">
      <h3 class="form__subtitle">Аренда</h3>
      <app-form-slider-input
        label="Стоимость аренды в месяц, тыс руб"
        [settings]="settings.money"
        formControlName="cost_rental"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Изменение стоимости аренды в год, %"
        [settings]="settings.percent"
        formControlName="percent_cost_rental_change"
      ></app-form-slider-input>
    </div>
    <div class="form__block">
      <h3 class="form__subtitle">Финансы</h3>
      <app-form-slider-input
        label="Уже накопленная сумма, тыс руб"
        [settings]="settings.cash"
        formControlName="cash"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Месячная зарплата, тыс руб"
        [settings]="settings.money"
        formControlName="salary"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Месячные затраты без учета проживания, тыс руб"
        [settings]="settings.money"
        formControlName="spending"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Изменение зарплаты за год, %"
        [settings]="settings.percent"
        formControlName="percent_salary_change"
      ></app-form-slider-input>
      <app-form-slider-input
        label="Изменение месячных затрат за год, %"
        [settings]="settings.percent"
        formControlName="percent_spending_change"
      ></app-form-slider-input>
    </div>
  </div>
  <div class="form__content">
    <div class="form__block">
      <h3 class="form__subtitle">С ипотекой</h3>
      <div class="form__row">
        <p class="form__info">Платить в месяц:</p>
        <p class="form__info">{{ calc.result.month_hypothec }}</p>
      </div>
      <div class="form__row">
        <p class="form__info">Выплатить за весь срок:</p>
        <p class="form__info">{{ calc.result.amount_hypothec }}</p>
      </div>
    </div>
    <div class="form__block">
       <h3 class="form__subtitle">С арендой</h3>
      <div class="form__row">
        <p class="form__info">Стоимость квартиры к тому времени</p>
        <p class="form__info">{{ calc.result.cost_apartsments }}</p>
      </div>
      <div class="form__row">
        <p class="form__info">Стоимость аренды</p>
        <p class="form__info">{{ calc.result.amount_rental }}</p>
      </div>
      <div class="form__row">
        <p class="form__info">Всего</p>
        <p class="form__info">{{ calc.result.amount_accumulate }}</p>
      </div>
      <div class="form__row">
        <p class="form__info">Eжемесячно</p>
        <p class="form__info">{{ calc.result.month_accumulate }}</p>
      </div>
    </div>
    <div class="form__block">
      <h3 class="form__subtitle"> Если копить, учитывая финансы </h3>
      <p class="form__info"> {{calc.term_accumulation}} </p>
      <br>
      <h3 class="form__subtitle"> Изменение зарплаты </h3>
      <p class="form__info" *ngFor="let item of calc.every_year.salary; index as i">{{i + 1}}:  {{item}} </p>
    </div>
    <plotly-plot [data]="graph.data" [layout]="graph.layout"></plotly-plot>
  </div>
</div>
